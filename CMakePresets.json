{
    "version" : 3,
    "cmakeMinimumRequired" : {
        "major" : 3,
        "minor" : 25,
        "patch" : 0
    },

    "configurePresets" : [
        {
            "name" : "debug",
            "displayName" : "Debug",
            "generator" : "Unix Makefiles",
            "binaryDir" : "${sourceDir}/builds/debug",
            "cacheVariables" : {
                "CMAKE_BUILD_TYPE" : "Debug",
                "BUILD_TESTING" : "ON"
            }
        },

        {
            "name" : "release",
            "displayName" : "Release",
            "generator" : "Unix Makefiles",
            "binaryDir" : "${sourceDir}/builds/release",
            "cacheVariables" : {
                "CMAKE_BUILD_TYPE" : "Release"
            }
        },

        {
            "name" : "release-tests",
            "displayName" : "Release (with tests)",
            "generator" : "Unix Makefiles",
            "binaryDir" : "${sourceDir}/builds/release",
            "cacheVariables" : {
                "CMAKE_BUILD_TYPE" : "Release",
                "BUILD_TESTING" : "ON"
            }
        }
    ],

    "buildPresets" : [
        {
            "name" : "debug",
            "configurePreset" : "debug"
        },

        {
            "name" : "debug-multi",
            "configurePreset" : "debug",
            "jobs" : 0
        },

        {
            "name" : "release",
            "configurePreset" : "release"
        },

        {
            "name" : "release-multi",
            "configurePreset" : "release",
            "jobs" : 0
        },

        {
            "name" : "release-tests",
            "configurePreset" : "release-tests",
            "jobs" : 0
        }
    ],

    "testPresets" : [
        {
            "name" : "debug",
            "configurePreset" : "debug",
            "environment" : {
                "CTEST_TEST_ARGS" : "--gtest_brief=1"
            }
        },

        {
            "name" : "debug-heavy",
            "configurePreset" : "debug",
            "environment" : {
                "RUN_HEAVY_GTEST" : "1",
                "CTEST_TEST_ARGS" : "--gtest_brief=1"
            }
        },

        {
            "name" : "release-tests",
            "configurePreset" : "release-tests",
            "environment" : {
                "CTEST_TEST_ARGS" : "--gtest_brief=1"
            }
        }
    ]
}
